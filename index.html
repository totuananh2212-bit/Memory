<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>KÃ½ á»¨c Xanh</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background-color: #0a1a0f;
      color: #f0f0f0;
      background-image: url('https://images.unsplash.com/photo-1501785888041-af3ef285b470?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80');
      background-size: cover;
      background-attachment: fixed;
    }
    header {
      background: rgba(0, 50, 30, 0.9);
      padding: 15px;
      text-align: center;
      font-size: 24px;
      font-weight: bold;
    }
    nav {
      display: flex;
      justify-content: center;
      background: #062d1c;
    }
    nav button {
      background: transparent;
      border: none;
      padding: 14px 20px;
      color: #fff;
      font-size: 16px;
      cursor: pointer;
    }
    nav button:hover {
      background: #145c39;
    }
    .content {
      padding: 20px;
    }
    .section {
      display: none;
    }
    .active {
      display: block;
    }
    .card {
      background: rgba(0, 0, 0, 0.6);
      padding: 15px;
      margin: 10px 0;
      border-radius: 10px;
    }
    input, textarea {
      width: 100%;
      margin: 5px 0;
      padding: 8px;
      border-radius: 5px;
      border: none;
    }
    button.action {
      margin-top: 5px;
      padding: 6px 12px;
      border: none;
      border-radius: 5px;
      background: #145c39;
      color: #fff;
      cursor: pointer;
    }
    .comment {
      margin-left: 15px;
      font-size: 14px;
    }
  </style>
</head>
<body>
  <header id="siteTitle">ğŸŒ¿ KÃ½ á»¨c Xanh ğŸŒ¿</header>
  <nav>
    <button onclick="showSection('media')">Má»¥c 1: áº¢nh & Video</button>
    <button onclick="showSection('story')">Má»¥c 2: CÃ¢u chuyá»‡n</button>
    <button onclick="showSection('contact')">Má»¥c 3: LiÃªn há»‡</button>
    <button onclick="showSection('review')">Má»¥c 4: ÄÃ¡nh giÃ¡</button>
    <button onclick="login()">âš™ï¸ CÃ i Ä‘áº·t</button>
  </nav>

  <div class="content">
    <!-- Má»¥c 1 -->
    <div id="media" class="section active">
      <h2>ğŸ“· áº¢nh & Video</h2>
      <input type="text" id="mediaUrl" placeholder="Link áº£nh hoáº·c video...">
      <input type="text" id="mediaDesc" placeholder="MÃ´ táº£...">
      <button class="action" onclick="addMedia()">ÄÄƒng</button>
      <div id="mediaList"></div>
    </div>

    <!-- Má»¥c 2 -->
    <div id="story" class="section">
      <h2>ğŸ“– CÃ¢u chuyá»‡n</h2>
      <textarea id="storyText" placeholder="Viáº¿t cÃ¢u chuyá»‡n..."></textarea>
      <input type="text" id="storyImg" placeholder="Link áº£nh minh há»a...">
      <button class="action" onclick="addStory()">ÄÄƒng</button>
      <div id="storyList"></div>
    </div>

    <!-- Má»¥c 3 -->
    <div id="contact" class="section">
      <h2>ğŸ“‡ LiÃªn há»‡</h2>
      <input type="text" id="name" placeholder="Há» tÃªn">
      <input type="text" id="phone" placeholder="Sá»‘ Ä‘iá»‡n thoáº¡i">
      <input type="email" id="email" placeholder="Email">
      <button class="action" onclick="saveContact()">LÆ°u</button>
      <div id="contactInfo"></div>
    </div>

    <!-- Má»¥c 4 -->
    <div id="review" class="section">
      <h2>â­ ÄÃ¡nh giÃ¡ website</h2>
      <input type="number" id="rating" min="1" max="5" placeholder="Sá»‘ sao (1-5)">
      <textarea id="reviewText" placeholder="Viáº¿t bÃ¬nh luáº­n..."></textarea>
      <input type="text" id="reviewImg" placeholder="Link áº£nh minh há»a (náº¿u cÃ³)">
      <button class="action" onclick="addReview()">Gá»­i</button>
      <div id="reviewList"></div>
    </div>

    <!-- CÃ i Ä‘áº·t -->
    <div id="settings" class="section">
      <h2>âš™ï¸ CÃ i Ä‘áº·t</h2>
      <input type="text" id="newTitle" placeholder="TÃªn website má»›i">
      <input type="text" id="bgUrl" placeholder="Link áº£nh ná»n má»›i">
      <button class="action" onclick="updateSettings()">Cáº­p nháº­t</button>
    </div>
  </div>

  <script>
    // Hiá»ƒn thá»‹ section
    function showSection(id) {
      document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
      document.getElementById(id).classList.add('active');
    }

    // Xá»­ lÃ½ Media
    function addMedia() {
      let url = document.getElementById("mediaUrl").value;
      let desc = document.getElementById("mediaDesc").value;
      if(!url) return;
      let posts = JSON.parse(localStorage.getItem("media")) || [];
      posts.push({url, desc, comments:[], likes:0});
      localStorage.setItem("media", JSON.stringify(posts));
      renderMedia();
    }
    function renderMedia() {
      let posts = JSON.parse(localStorage.getItem("media")) || [];
      let html = "";
      posts.forEach((p,i)=>{
        html += `<div class="card">
          ${p.url.includes("mp4") ? `<video controls src="${p.url}" width="300"></video>` : `<img src="${p.url}" width="300">`}
          <p>${p.desc}</p>
          <button onclick="likeMedia(${i})">ğŸ‘ ${p.likes}</button>
          <button onclick="deleteMedia(${i})">ğŸ—‘ï¸ XÃ³a</button>
        </div>`;
      });
      document.getElementById("mediaList").innerHTML = html;
    }
    function likeMedia(i){
      let posts = JSON.parse(localStorage.getItem("media")) || [];
      posts[i].likes++;
      localStorage.setItem("media", JSON.stringify(posts));
      renderMedia();
    }
    function deleteMedia(i){
      let posts = JSON.parse(localStorage.getItem("media")) || [];
      posts.splice(i,1);
      localStorage.setItem("media", JSON.stringify(posts));
      renderMedia();
    }

    // CÃ¢u chuyá»‡n
    function addStory(){
      let text = document.getElementById("storyText").value;
      let img = document.getElementById("storyImg").value;
      if(!text) return;
      let stories = JSON.parse(localStorage.getItem("stories")) || [];
      stories.push({text, img, likes:0});
      localStorage.setItem("stories", JSON.stringify(stories));
      renderStory();
    }
    function renderStory(){
      let stories = JSON.parse(localStorage.getItem("stories")) || [];
      let html = "";
      stories.forEach((s,i)=>{
        html += `<div class="card">
          <p>${s.text}</p>
          ${s.img ? `<img src="${s.img}" width="300">` : ""}
          <button onclick="likeStory(${i})">ğŸ‘ ${s.likes}</button>
          <button onclick="deleteStory(${i})">ğŸ—‘ï¸ XÃ³a</button>
        </div>`;
      });
      document.getElementById("storyList").innerHTML = html;
    }
    function likeStory(i){
      let stories = JSON.parse(localStorage.getItem("stories")) || [];
      stories[i].likes++;
      localStorage.setItem("stories", JSON.stringify(stories));
      renderStory();
    }
    function deleteStory(i){
      let stories = JSON.parse(localStorage.getItem("stories")) || [];
      stories.splice(i,1);
      localStorage.setItem("stories", JSON.stringify(stories));
      renderStory();
    }

    // LiÃªn há»‡
    function saveContact(){
      let info = {
        name: document.getElementById("name").value,
        phone: document.getElementById("phone").value,
        email: document.getElementById("email").value
      };
      localStorage.setItem("contact", JSON.stringify(info));
      renderContact();
    }
    function renderContact(){
      let info = JSON.parse(localStorage.getItem("contact")) || {};
      document.getElementById("contactInfo").innerHTML = 
        `<p>ğŸ‘¤ ${info.name||""}</p>
         <p>ğŸ“ ${info.phone||""}</p>
         <p>âœ‰ï¸ ${info.email||""}</p>`;
    }

    // ÄÃ¡nh giÃ¡
    function addReview(){
      let stars = document.getElementById("rating").value;
      let text = document.getElementById("reviewText").value;
      let img = document.getElementById("reviewImg").value;
      if(!stars) return;
      let reviews = JSON.parse(localStorage.getItem("reviews")) || [];
      reviews.push({stars,text,img});
      localStorage.setItem("reviews", JSON.stringify(reviews));
      renderReview();
    }
    function renderReview(){
      let reviews = JSON.parse(localStorage.getItem("reviews")) || [];
      let html="";
      reviews.forEach((r,i)=>{
        html+=`<div class="card">
          <p>â­ ${r.stars}/5</p>
          <p>${r.text}</p>
          ${r.img? `<img src="${r.img}" width="200">` : ""}
          <button onclick="deleteReview(${i})">ğŸ—‘ï¸ XÃ³a</button>
        </div>`;
      });
      document.getElementById("reviewList").innerHTML = html;
    }
    function deleteReview(i){
      let reviews = JSON.parse(localStorage.getItem("reviews")) || [];
      reviews.splice(i,1);
      localStorage.setItem("reviews", JSON.stringify(reviews));
      renderReview();
    }

    // CÃ i Ä‘áº·t
    function login(){
      let user = prompt("Nháº­p tÃ i khoáº£n:");
      let pass = prompt("Nháº­p máº­t kháº©u:");
      if(user==="Toanh2212" && pass==="22012000"){
        showSection('settings');
      } else {
        alert("Sai tÃ i khoáº£n hoáº·c máº­t kháº©u!");
      }
    }
    function updateSettings(){
      let newTitle = document.getElementById("newTitle").value;
      let bgUrl = document.getElementById("bgUrl").value;
      if(newTitle){
        document.getElementById("siteTitle").innerText = newTitle;
        localStorage.setItem("siteTitle", newTitle);
      }
      if(bgUrl){
        document.body.style.backgroundImage = `url(${bgUrl})`;
        localStorage.setItem("bgUrl", bgUrl);
      }
    }

    // Load dá»¯ liá»‡u khi má»Ÿ láº¡i web
    window.onload = ()=>{
      renderMedia();
      renderStory();
      renderContact();
      renderReview();
      let savedTitle = localStorage.getItem("siteTitle");
      if(savedTitle) document.getElementById("siteTitle").innerText = savedTitle;
      let savedBg = localStorage.getItem("bgUrl");
      if(savedBg) document.body.style.backgroundImage = `url(${savedBg})`;
    }
  </script>
</body>
</html>
